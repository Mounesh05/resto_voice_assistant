<!DOCTYPE html>
<html>
<head>
<title>Admin Panel</title>

<style>
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background: #f1f6f3;
}

.container {
    width: 90%;
    max-width: 1200px;
    margin: 40px auto;
    background: #fff;
    padding: 25px;
    border-radius: 14px;
    box-shadow: 0px 4px 18px rgba(0,0,0,0.08);
}

/* Title Row */
.header-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

h2 {
    margin: 0;
    font-size: 26px;
    color: #0F5132;
}

.logout {
    color: #c0392b;
    font-weight: bold;
    text-decoration: none;
    font-size: 16px;
}
.logout:hover {
    text-decoration: underline;
}

/* Search Box */
.search-box {
    display: flex;
    gap: 12px;
    margin: 20px 0 30px 0;
}

.search-box input {
    flex: 1;
    padding: 12px;
    border: 1px solid #ccc;
    border-radius: 12px;
    font-size: 15px;
}

.search-box button {
    background: #0F9D58;
    padding: 12px 20px;
    border-radius: 12px;
    color: white;
    border: none;
    cursor: pointer;
    font-size: 15px;
    transition: 0.2s;
}
.search-box button:hover {
    background: #0c7d47;
}

/* Table */
table {
    width: 100%;
    border-collapse: collapse;
}
th, td {
    padding: 12px;
    border-bottom: 1px solid #ddd;
    text-align: center;
}
th {
    background: #0F9D58;
    color: #fff;
}

/* Status Formatting */
.cancelled {
    background: #ffe5e5 !important;
    color: #b30000 !important;
    font-weight: bold;
}

/* Cancel Button */
.cancel-btn {
    background: #ff4d4d;
    border: none;
    color: white;
    padding: 8px 16px;
    border-radius: 40px;
    cursor: pointer;
    font-size: 14px;
    transition: 0.25s;
    text-decoration: none;
    display: inline-block;
}
.cancel-btn:hover {
    background: #cc0000;
}

/* Disabled Button */
.button-disabled {
    color: #777;
    font-size: 14px;
}
</style>
</head>

<body>
<div class="container">

<div class="header-row">
    <h2>Bookings</h2>
    <a href="/admin/logout" class="logout">Logout</a>
</div>

<form action="/admin/search" method="POST" class="search-box">
    <input type="text" name="query" placeholder="Search by name or phone" required>
    <button type="submit">Search</button>
</form>

<table>
<tr>
<th>ID</th><th>Date</th><th>Time</th><th>Guests</th><th>Name</th><th>Phone</th><th>Status</th><th>Action</th>
</tr>

{% for b in bookings %}
<tr class="{% if b[6]=='cancelled' %}cancelled{% endif %}">
<td>{{ b[0] }}</td>
<td>{{ b[1] }}</td>
<td>{{ b[2] }}</td>
<td>{{ b[3] }}</td>
<td>{{ b[4] }}</td>
<td>{{ b[5] }}</td>
<td>{{ b[6] }}</td>

<td>
{% if b[6] == 'confirmed' %}
<a href="/admin/cancel/{{ b[0] }}" class="cancel-btn">Cancel ðŸš«</a>
{% else %}
<span class="button-disabled">Cancelled</span>
{% endif %}
</td>

</tr>
{% endfor %}
</table>

</div>
</body>
</html>

